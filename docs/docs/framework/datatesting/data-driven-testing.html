<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-177425497-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Introduction | Kotest</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Introduction | Kotest"><meta data-react-helmet="true" name="description" content="This section covers the new and improved data test support that was released with Kotest 4.6.0. Before it can be used,"><meta data-react-helmet="true" property="og:description" content="This section covers the new and improved data test support that was released with Kotest 4.6.0. Before it can be used,"><meta data-react-helmet="true" property="og:url" content="https://kotest.io/docs/framework/datatesting/data-driven-testing.html"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://kotest.io/docs/framework/datatesting/data-driven-testing.html"><link rel="stylesheet" href="/styles.1b64b5f2.css">
<link rel="preload" href="/styles.c1422fa0.js" as="script">
<link rel="preload" href="/runtime~main.e437519b.js" as="script">
<link rel="preload" href="/main.91fd171b.js" as="script">
<link rel="preload" href="/1.4bf82347.js" as="script">
<link rel="preload" href="/92.4f8ba97a.js" as="script">
<link rel="preload" href="/93.c59c37ec.js" as="script">
<link rel="preload" href="/935f2afb.325310d7.js" as="script">
<link rel="preload" href="/91.d3327271.js" as="script">
<link rel="preload" href="/b4d7a37c.97395be0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Kotest" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo.png" alt="Kotest" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Kotest</strong></a><a class="navbar__item navbar__link" href="/docs/quickstart">Overview</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/framework/framework.html">Framework</a><a class="navbar__item navbar__link" href="/docs/extensions/extensions.html">Extensions</a><a class="navbar__item navbar__link" href="/docs/assertions/assertions.html">Assertions</a><a class="navbar__item navbar__link" href="/docs/proptest/property-based-testing.html">Property Testing</a><a class="navbar__item navbar__link" href="/docs/intellij/intellij-plugin.html">Intellij Plugin</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kotest/kotest/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Issue Tracker</a><a href="https://github.com/kotest/kotest" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Kotest" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo.png" alt="Kotest" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Kotest</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/quickstart">Overview</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/framework/framework.html">Framework</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/extensions/extensions.html">Extensions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/assertions/assertions.html">Assertions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/proptest/property-based-testing.html">Property Testing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/intellij/intellij-plugin.html">Intellij Plugin</a></li><li class="menu__list-item"><a href="https://github.com/kotest/kotest/issues" target="_blank" rel="noopener noreferrer" class="menu__link">Issue Tracker</a></li><li class="menu__list-item"><a href="https://github.com/kotest/kotest" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/framework/framework.html">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/writing-tests.html">Writing Tests</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/testing-styles.html">Testing Styles</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/conditional-evaluation.html">Conditional Evaluation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/isolation-mode.html">Isolation Modes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/exceptions.html">Exceptions</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Data Driven Testing</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/framework/datatesting/data-driven-testing.html">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/datatesting/nested-tests.html">Nested Data Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/datatesting/custom-test-names.html">Custom Test Names</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Non-deterministic Testing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/concurrency/eventually.html">Eventually</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/assertions/continually.html">Continually</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/assertions/until.html">Until</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/assertions/retry.html">Retry</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/listeners.html">Listeners</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/integrations/mocking.html">Mocking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/integrations/jacoco.html">Jacoco</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Ordering</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/spec-ordering.html">Spec Ordering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/test-ordering.html">Test Ordering</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/tags.html">Grouping Tests with Tags</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/autoclose.html">Closing resources automatically</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/temporary-files">Temporary Files</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/testcaseconfig.html">Test Case Config</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/project-config.html">Project Level Config</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/framework-config-props.html">System properties</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/test-extensions.html">Test Extensions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/test-factories.html">Test Factories</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework/timeouts.html">Timeouts</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Introduction</h1></header><div class="markdown"><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This section covers the new and improved data test support that was released with Kotest 4.6.0. Before it can be used,
you need to add the module <code>kotest-framework-datatest</code> to your build.</p><p>This new module is currently under experimental stage and uses <code>ExperimentalKotest</code> annotation which means in your tests
you might get warning regarding usage of <code>ExperimentalKotest</code>, in case you do not want this warning you will need to use
either <code>@OptIn(ExperimentalKotest::class)</code> or <code>@ExperimentalKotest</code> annotation at your test method or test class.
Along with that you will have to pass <code>-Xopt-in=kotlin.RequiresOptIn</code> compiler argument to your kotlin compiler using your build
tool. In future release when this module will become more stable we will remove this <code>@ExperimentalKotest</code>.</p><p>To view the documentation for the previous data test support, <a href="/docs/framework/datatesting/data_driven_testing_4.2.0">click here</a></p></div></div><p>When writing tests that are logic based, one or two specific code paths that work through particular scenarios make
sense. Other times we have tests that are more example based, and it would be helpful to test many combinations of
parameters.</p><p>In these situations, <strong>data driven testing</strong> (also called table driven testing) is an easy technique to avoid tedious
boilerplate.</p><p>Kotest has first class support for data driven testing built into the framework.
This means Kotest will automatically generate test case entries, based on input values provided by you.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getting-started"></a>Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>Let&#x27;s consider writing tests for a <a href="https://en.wikipedia.org/wiki/Pythagorean_triple" target="_blank" rel="noopener noreferrer">pythagorean triple</a> function that
returns true if the input values are valid triples (<em>a squared + b squared = c squared</em>).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-kotlin codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fun isPythagTriple(a: Int, b: Int, c: Int): Boolean = a * a + b * b == c * c</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Since we need more than one element per row (we need 3), we start by definining a data class that will hold a single <em>
row</em> of values (in our case, the two inputs, and the expected result).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-kotlin codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">data class PythagTriple(val a: Int, val b: Int, val c: Int)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We will create tests by using instances of this data class, passing them into the <code>withData</code> function, which also
accepts a lambda that performs the test logic for that given <em>row</em>.</p><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-kotlin codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class MyTests : FunSpec({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  context(&quot;Pythag triples tests&quot;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    withData(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      PythagTriple(3, 4, 5),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      PythagTriple(6, 8, 10),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      PythagTriple(8, 15, 17),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      PythagTriple(7, 24, 25)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ) { (a, b, c) -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      isPythagTriple(a, b, c) shouldBe true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">})</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Notice that because we are using data classes, the input row can be destructured into the member properties.
When this is executed, we will have 4 test cases in our input, one for each input row.</p><p>Kotest will automatically generate a test case for each input row, as if you had manually written a seperate test case
for each.</p><p><img alt="data test example output" src="/assets/images/datatest1-55f0023d0e24fd14ff7081a3746e32ef.png"></p><p>The test names are generated from the data classes themselves but can be <a href="#custom-test-names">customized</a>.</p><p>If there is an error for any particular input row, then the test will fail and Kotest will output the values that
failed. For example, if we change the previous example to include the row <code>PythagTriple(5, 4, 3)</code>
then that test will be marked as a failure.</p><p><img alt="data test example output" src="/assets/images/datatest2-caababc9c261775d74c2c236cbf23686.png"></p><p>The error message will contain the error and the input row details:</p><p><code>Test failed for (a, 5), (b, 4), (c, 3) expected:&lt;9&gt; but was:&lt;41&gt;</code></p><p>In that previous example, we wrapped the <code>withData</code> call in a parent test, so we have more context when the test results appear.
The syntax varies depending on the <a href="/docs/framework/testing-styles.html">spec style</a> used - here we used <em>fun spec</em> which uses context blocks for containers.
In fact, data tests can be nested inside any number of containers.</p><p>But this is optional, you can define data tests at the root level as well.</p><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-kotlin codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class MyTests : FunSpec({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  withData(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    PythagTriple(3, 4, 5),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    PythagTriple(6, 8, 10),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    PythagTriple(8, 15, 17),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    PythagTriple(7, 24, 25)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) { (a, b, c) -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    isPythagTriple(a, b, c) shouldBe true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">})</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="stable-names"></a>Stable Names<a class="hash-link" href="#stable-names" title="Direct link to heading">#</a></h2><p>When generating test names, Kotest needs a <em>stable</em> test name. Otherwise, test reports can be messed up if the name used
changes over the course of the test suite execution.</p><p>Kotest will only use the <code>toString()</code> of the input class if it thinks the input class has a stable <code>toString()</code> value
otherwise it will use the class name.</p><p>You can force Kotest to use the <code>toString()</code> for test names by annotating your type with <code>@IsStableType</code>. Then
the <code>toString()</code> will be used regardless.</p><p>Alternatively, you can completely customize the display name of the test.
See <a href="/docs/framework/datatesting/custom-test-names.html">customing test names</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/kotest/kotest/blob/master/documentation/docs/framework/datatesting/data_driven_testing.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/framework/exceptions.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Testing Exceptions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/framework/datatesting/nested-tests.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Nested Data Tests Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a></li><li><a href="#stable-names" class="table-of-contents__link">Stable Names</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://kotlinlang.slack.com/archives/CT0G9SD7Z" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://github.com/kotest/kotest" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/kotest" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2021 Kotest Team. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.c1422fa0.js"></script>
<script src="/runtime~main.e437519b.js"></script>
<script src="/main.91fd171b.js"></script>
<script src="/1.4bf82347.js"></script>
<script src="/92.4f8ba97a.js"></script>
<script src="/93.c59c37ec.js"></script>
<script src="/935f2afb.325310d7.js"></script>
<script src="/91.d3327271.js"></script>
<script src="/b4d7a37c.97395be0.js"></script>
</body>
</html>